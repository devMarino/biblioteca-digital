CREATE TABLE usuario (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    matricula VARCHAR(50),
    tipo ENUM('aluno','docente','colaborador','admin'),
    turma VARCHAR(50),
    email VARCHAR(100),
    senha VARCHAR(200),
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE livro (
    id INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(200),
    autor VARCHAR(100),
    isbn VARCHAR(20),
    editora VARCHAR(100),
    ano_publicacao YEAR,
    formato VARCHAR(10),
    paginas INT,
    idioma VARCHAR(50),
    area_conhecimento VARCHAR(100),
    palavras_chave TEXT,
    arquivo_url VARCHAR(255),
    disponivel BOOLEAN DEFAULT TRUE
);

CREATE TABLE emprestimo (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    id_livro INT,
    data_emprestimo DATE,
    data_prevista DATE,
    data_devolucao DATE,
    status ENUM('emprestado','devolvido','atrasado'),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id),
    FOREIGN KEY (id_livro) REFERENCES livros(id)
);

CREATE TABLE reserva (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    id_livro INT,
    data_reserva DATE,
    status ENUM('ativa','cancelada','concluida'),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id),
    FOREIGN KEY (id_livro) REFERENCES livros(id)
);